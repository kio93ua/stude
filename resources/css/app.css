@import "@fontsource-variable/inter/index.css";
@import "@fontsource-variable/manrope/index.css";
@import "swiper/css/navigation";

/* === Tailwind core layers === */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* === Tokens & global background (one per page) === */
:root {
  --font-body: "InterVariable", Inter, ui-sans-serif, system-ui, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
  --font-head: "ManropeVariable", Manrope, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;

  /* Mint → Aqua без білого стопа */
  --brand-mint: #BFF3E2;
  --brand-aqua: #DDF9F2;
  --brand-teal: #0FA6A0;
  --section-bg: linear-gradient(135deg, var(--brand-mint) 0%, var(--brand-aqua) 100%);
}

/* === Global fixed background (iOS-safe) === */
html,
body {
  min-height: 100%;
}

/* Гасимо горизонтальний скрол (м’яко) */
html,
body {
  overflow-x: clip;
}

@supports not (overflow: clip) {

  html,
  body {
    overflow-x: hidden;
  }

  /* fallback для старих WebKit */
}

body {
  background: transparent;
  /* важливо для ::before */
}

body::before {
  content: "";
  position: fixed;
  inset: 0;
  z-index: -1;
  background-image: var(--section-bg);
  background-repeat: no-repeat;
  background-size: cover;
  /* заповнює весь в’юпорт */
  /* без background-attachment: fixed — стабільніше в iOS */
  will-change: transform;
  pointer-events: none;
}

/* === Custom utilities (Tailwind @layer) === */
@layer utilities {

  /* Секції тепер прозорі — фон задає body::before */
  .section-surface {
    @apply relative overflow-hidden;
    background: transparent;
  }

  /* Залишено для зворотної сумісності */
  .section-surface--fixedhack {
    background: transparent;
  }
}

/* === iOS/mobile guard rails проти бокового скролу === */
/* Swiper інколи виносить ширше за в’юпорт */
.swiper,
.swiper-container {
  overflow: hidden;
}

/* Декоративні плями/глоу з blur/negative offsets не повинні створювати переповнення */
.section-surface [class*="blob"],
.section-surface [class*="glow"] {
  overflow: clip;
  /* або hidden, якщо clip недоступний */
  pointer-events: none;
}

/* Якщо десь випадково використали 100vw — це часта причина горизонтального скролу.
   Краще прибрати у компонентах, але тут підстрахуємо найтиповіші місця: */
.w-screen {
  width: 100%;
}

/* override Tailwind на мобільних сценаріях */

/* === Базова типографіка й перф === */
html {
  font-family: var(--font-body);
}

section[id]:not(#hero) {
  content-visibility: auto;
  contain-intrinsic-size: 1000px 600px;
}

img,
svg,
video,
canvas {
  display: block;
  max-width: 100%;
  height: auto;
}

[data-reveal],
[data-item],
[data-hero-card] {
  will-change: transform, opacity;
}

@media (prefers-reduced-motion: reduce) {

  [data-reveal],
  [data-item],
  [data-hero-card] {
    transition: none;
  }
}

/* === Your component layer (без змін по суті) === */
@layer components {
  .btn {
    @apply inline-flex items-center justify-center rounded-full px-6 py-3 text-sm font-semibold transition;
  }

  .btn-primary {
    @apply btn bg-primary text-white shadow-lg shadow-primary/20 hover:bg-secondary font-display;
  }

  .btn-outline {
    @apply btn border border-muted text-secondary hover:border-secondary hover:text-primary font-display;
  }

  .badge {
    @apply inline-flex items-center gap-2 rounded-full px-4 py-1 text-sm font-semibold;
  }

  .badge-muted {
    @apply badge bg-muted text-secondary;
  }

  .badge-accent {
    @apply badge bg-accent/15 text-accent;
  }

  .card {
    @apply rounded-3xl border border-muted/40 bg-white p-8 shadow-md shadow-muted/30;
  }

  .card-soft {
    @apply rounded-3xl border border-muted/30 bg-white p-8 shadow-sm;
  }

  .heading-1 {
    @apply font-display text-4xl md:text-5xl font-bold leading-tight tracking-tight text-secondary;
  }

  .heading-2 {
    @apply font-display text-3xl md:text-4xl font-semibold leading-tight tracking-tight text-secondary;
  }

  .heading-3 {
    @apply font-display text-2xl md:text-3xl font-semibold leading-snug tracking-tight text-secondary;
  }

  .text-muted {
    color: #BF820F !important;
  }
}